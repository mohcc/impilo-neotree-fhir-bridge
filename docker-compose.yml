version: "3.9"
services:
  neotree-bridge:
    image: mohcc/impilo-neotree-fhir-bridge:latest
    container_name: neotree-bridge
    env_file:
      - .env
    ports:
      - "3001:3001"
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:3001/health"]
      interval: 15s
      timeout: 5s
      retries: 5
    # For host MySQL on macOS/Windows; remove if using containerized MySQL
    extra_hosts:
      - "host.docker.internal:host-gateway"
