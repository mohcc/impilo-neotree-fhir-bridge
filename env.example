# ===========================================
# Neotree OpenCR FHIR Bridge Configuration
# ===========================================

# Server Configuration
PORT=3001
SOURCE_ID=neotree-bridge

# Facility Configuration (IMPORTANT!)
# This sets the "source" displayed in OpenCR CRUX
# Use the facility ID from OpenCR client registry
# Example: ZW000A42 = Western Triangle Primary Care Clinic
FACILITY_ID=ZW000A42
FACILITY_NAME=Western Triangle Primary Care Clinic

# MySQL Database Configuration
MYSQL_HOST=localhost
MYSQL_PORT=3307
MYSQL_USER=root
MYSQL_PASSWORD=
MYSQL_DATABASE=consultation
# Alternative: Use MYSQL_DSN instead of individual fields
# MYSQL_DSN=mysql://root@localhost:3307/consultation

# OpenHIM Configuration
# Use the OpenHIM Core API endpoint (not Console)
OPENHIM_BASE_URL=http://localhost:5001
OPENHIM_USERNAME=test
OPENHIM_PASSWORD=test1234
OPENHIM_CHANNEL_PATH=/CR/fhir
# Optional: Explicit client ID (defaults to FACILITY_ID if set, otherwise SOURCE_ID)
# OPENHIM_CLIENT_ID=neotree-bridge

# Operational Configuration
PUSH_BATCH_SIZE=50
PUSH_CONCURRENCY=4
MYSQL_POLL_INTERVAL_MS=10000
MYSQL_WATERMARK_TABLE=_watermarks
PULL_MODE=poll

# Logging Configuration
LOG_LEVEL=info
# Optional: Log to file
# LOG_FILE=./logs/app.log

